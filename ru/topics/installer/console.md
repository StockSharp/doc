# Консольная версия

`Installer.Console` — это кроссплатформенная версия программы Installer. Она позволяет скачивать, обновлять и удалять продукты без графического интерфейса и может работать на любой ОС, где установлен [.NET 6](https://dotnet.microsoft.com/) Runtime.

## Запуск

1. Установите .NET 6 SDK или Runtime для вашей платформы.
2. Скачайте архив `StockSharp.Installer.Console.zip` на странице [Скачать](https://stocksharp.ru/products/download/).
3. Распакуйте архив и запустите утилиту из командной строки:

   ```bash
   dotnet StockSharp.Installer.Console.dll <Команда> [продукт] [путь] [опции]
   ```

`<Команда>` может принимать значения:

- `Install` – установить продукт.
- `Update` – обновить установленный продукт.
- `Repair` – восстановить установку.
- `Remove` – удалить продукт.
- `License` – показать лицензию продукта.
- `Licenses` – показать список лицензий.
- `HddId` – вывести идентификатор диска.
- `Products` – вывести список доступных продуктов.
- `Updates` – показать доступные обновления.
- `Installed` – вывести список установленных программ.
- `Sign` – подписать DLL файл.

Необязательный параметр `[продукт]` — это ID продукта из [магазина](https://stocksharp.com/store/). Найти его можно на странице товара, например на странице [Hydra сервера](https://stocksharp.ru/store/hydra-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80/), либо командой `StockSharp.Installer.Console.exe Products -s hydra`. `[путь]` указывает каталог установки.

## Опции

Утилита поддерживает следующие ключи:

- `-s`, `--search` – фильтр по имени продукта.
- `-r`, `--run` – автоматически запустить приложение (например, `StockSharp.Hydra.Server.exe`) после установки.
- `-c`, `--cache` – использовать кэш NuGet.
- `-f`, `--force` – принудительно проверить обновления, игнорируя интервал.
- `-p`, `--pre` – разрешить установку предварительных версий.
- `-e`, `--noerror` – подавлять любые ошибки.
- `-b`, `--backup` – создать резервную копию настроек перед восстановлением или обновлением.
- `-l`, `--clear` – очистить папку установки перед началом.
- `-t`, `--fw` – указать целевую версию .NET.
- `-d`, `--data` – удалить папку данных приложения.
- `-i`, `--in` – DLL для подписи.
- `-o`, `--out` – результат подписи DLL.

Пример команды:

```bash
dotnet StockSharp.Installer.Console.dll Install 1269 ~/stocksharp -p -r StockSharp.Hydra.Server.exe
```

Команда установит продукт **1269** (номер используется для примера) в указанную папку, разрешит предрелизные сборки и запустит `StockSharp.Hydra.Server.exe` после завершения.
