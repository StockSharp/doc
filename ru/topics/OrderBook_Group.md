# Сгруппированный стакан

В дополнение к [разреженному стакану](OrderBook_Sparse.md), может быть полезно использовать сгруппированный стакан заявок, где заявки агрегируются по более широким ценовым диапазонам для упрощения анализа и выявления общих трендов спроса и предложения.

Преимущества сгруппированного стакана:

- Упрощение анализа: Агрегирование данных по заявкам упрощает восприятие общей картины рынка.
- Выявление трендов: Легче идентифицировать ключевые уровни цен, на которых концентрируется большинство заявок.

## Реализация сгруппированного стакана:

Для работы со сгруппированным стаканом заявок необходимо сначала настроить получение через [подписки](OrderBook_Subscription.md), а затем вызвать метод-расширение [Group](xref:StockSharp.Messages.Extensions.Group):

```cs
// Группировка данных стакана с шагом агрегации цены, например, в 0.5 единицы цены
var groupedDepth = orderBook.Group(0.5);

// groupedDepth теперь содержит стакан, в котором заявки сгруппированы 
// по уровням цен с заданным шагом агрегации.
```

Метод [Group](xref:StockSharp.Messages.Extensions.Group) позволяет агрегировать заявки в стакане по более крупным уровням цен, что упрощает визуальный анализ рынка и помогает выявить основные уровни спроса и предложения без необходимости анализа каждого индивидуального изменения цены.