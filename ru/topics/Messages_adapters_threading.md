# Потоковая модель

Создаваемым адаптерам гарантируется, что все сообщения, приходящие в переопределенном методе [MessageAdapter.OnSendInMessage](../api/StockSharp.Messages.MessageAdapter.OnSendInMessage.html), будут приходить в одном потоке. Поэтому дополнительной синхронизации не требуется, если используются общие данные только для входящих сообщений.

Исходящие сообщения отправляются через [MessageAdapter.SendOutMessage](../api/StockSharp.Messages.MessageAdapter.SendOutMessage.html) из тех потоков, из которых они получены. Класс [Connector](../api/StockSharp.Algo.Connector.html) автоматически добавит их в единую очередь внешних сообщений, и его события так же будут вызваны из одного потока.

Если используются данные как в при обработке входящих, так и при исходящих сообщений, то такие данные необходимо синхронизовать, используя стандартные возможности **C\#** (например, **lock**).
