# Вспомогательные адаптеры

Для упрощения создания собственных подключений, в пакете [S\#](../../../api.md) входят ряд специальных адаптеров:

| Адаптер                                                                                             | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| --------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [HeartbeatMessageAdapter](xref:StockSharp.Algo.HeartbeatMessageAdapter)                             | Адаптер, отслеживающий сообщения [ConnectMessage](xref:StockSharp.Messages.ConnectMessage) и [DisconnectMessage](xref:StockSharp.Messages.DisconnectMessage) в случае разрыва соединения и последующих попыток его переустановить. Дополнительно, шлет в подключение [TimeMessage](xref:StockSharp.Messages.TimeMessage) для имитации ping сообщений, если значение [IMessageAdapter.HeartbeatInterval](xref:StockSharp.Messages.IMessageAdapter.HeartbeatInterval) установлено. |
| [Level1DepthBuilderAdapter](xref:StockSharp.Algo.Level1DepthBuilderAdapter)                         | Адаптер, собирающий [QuoteChangeMessage](xref:StockSharp.Messages.QuoteChangeMessage) из [Level1ChangeMessage](xref:StockSharp.Messages.Level1ChangeMessage) сообщений, если при подписке [MarketDataMessage.BuildMode](xref:StockSharp.Messages.MarketDataMessage.BuildMode) было установлено и сообщение level1 содержит информацию о лучшей покупке или продаже.                                                                                                              |
| [Level1ExtendBuilderAdapter](xref:StockSharp.Algo.Level1ExtendBuilderAdapter)                       | Адаптер, собирающий [Level1ChangeMessage](xref:StockSharp.Messages.Level1ChangeMessage) сообщения из [QuoteChangeMessage](xref:StockSharp.Messages.QuoteChangeMessage), тиковых сделок и свечей.                                                                                                                                                                                                                                                                                 |
| [LookupTrackingMessageAdapter](xref:StockSharp.Algo.LookupTrackingMessageAdapter)                   | Адаптер, отслеживающий подписки вида [SecurityLookupMessage](xref:StockSharp.Messages.SecurityLookupMessage), для которые подключение не шлет результирующее сообщение [SubscriptionFinishedMessage](xref:StockSharp.Messages.SubscriptionFinishedMessage). В этом случае через некий тайм\-аут данный адаптер самостоятельно формирует результирующее сообщение.                                                                                                                |
| [OrderBookIncrementMessageAdapter](xref:StockSharp.Algo.OrderBookIncrementMessageAdapter)           | Адаптер, собирающий из инкрементальных сообщений целый стакан. Подробнее [Стаканы (инкрементальные и обычные)](order_books_incremental_and_regular.md).                                                                                                                                                                                                                                                                                                                                      |
| [OrderBookSortMessageAdapter](xref:StockSharp.Algo.OrderBookSortMessageAdapter)                     | Адаптер, автоматически сортирующий в стакане покупки и продажи в случае, если [QuoteChangeMessage.IsSorted](xref:StockSharp.Messages.QuoteChangeMessage.IsSorted) установлено как **false**.                                                                                                                                                                                                                                                                                     |
| [OrderBookTruncateMessageAdapter](xref:StockSharp.Algo.OrderBookTruncateMessageAdapter)             | Адаптер, автоматически обрезающий глубину стакана, если при подписке [MarketDataMessage.MaxDepth](xref:StockSharp.Messages.MarketDataMessage.MaxDepth) было установлено.                                                                                                                                                                                                                                                                                                         |
| [OrderLogMessageAdapter](xref:StockSharp.Algo.OrderLogMessageAdapter)                               | Адаптер, автоматически создающий стакан из лога заявок, если при подписке [MarketDataMessage.BuildMode](xref:StockSharp.Messages.MarketDataMessage.BuildMode) было установлено. Подробнее [Лог заявок](order_log.md).                                                                                                                                                                                                                                           |
| [PartialDownloadMessageAdapter](xref:StockSharp.Algo.PartialDownloadMessageAdapter)                 | Адаптер, автоматически разбивающий запрос истории на несколько под\-запросов с интервалами. Подробнее [Исторические данные](historical_data.md).                                                                                                                                                                                                                                                                                                                       |
| [SecurityMappingMessageAdapter](xref:StockSharp.Algo.SecurityMappingMessageAdapter)                 | Адаптер, автоматически заменяющий идентификаторы инструментов, если они заданы в хранилище [ISecurityMappingStorage](xref:StockSharp.Algo.Storages.ISecurityMappingStorage).                                                                                                                                                                                                                                                                                                     |
| [SecurityNativeIdMessageAdapter](xref:StockSharp.Algo.SecurityNativeIdMessageAdapter)               | Адаптер, автоматически заменяющий идентификаторы инструментов, если если адаптер работает с системными кодами инструментов [IMessageAdapter.IsNativeIdentifiers](xref:StockSharp.Messages.IMessageAdapter.IsNativeIdentifiers).                                                                                                                                                                                                                                                  |
| [SubscriptionOnlineMessageAdapter](xref:StockSharp.Algo.SubscriptionOnlineMessageAdapter)           | Адаптер, отслеживающий подписки и предотвращающий отправку дубликатов online\-подписок далее в подключение. Дублирующие подписки сохраняются и добавляются в исходящие сообщения, наследующиеся от [ISubscriptionIdMessage](xref:StockSharp.Messages.ISubscriptionIdMessage) через свойство [ISubscriptionIdMessage.SubscriptionIds](xref:StockSharp.Messages.ISubscriptionIdMessage.SubscriptionIds).                                                                           |
| [SubscriptionMessageAdapter](xref:StockSharp.Algo.SubscriptionMessageAdapter)                       | Адаптер, отслеживающий подписки. В отличие от [SubscriptionOnlineMessageAdapter](xref:StockSharp.Algo.SubscriptionOnlineMessageAdapter), адаптер перенаправляет далее дублирующиеся подписки и работает не только с online подписками, а так же и с историей.                                                                                                                                                                                                                    |
| [TransactionOrderingMessageAdapter](xref:StockSharp.Algo.TransactionOrderingMessageAdapter)         | Адаптер, отслеживающий транзакционные сообщения (заявки или сделки), и сортирующий их на случай, если информация о сделки приходит ранее, чем пришла информация о заявке, по которой прошла сделка.                                                                                                                                                                                                                                                                              |
| [StorageMessageAdapter](xref:StockSharp.Algo.Storages.StorageMessageAdapter)                        | Адаптер, отслеживающий исторические подписки, и пытающийся загрузить данные из внутреннего хранилища. В случае отсутствия необходимых данных, подписка перенаправляется далее.                                                                                                                                                                                                                                                                                                   |
| [StorageMetaInfoMessageAdapter](xref:StockSharp.Algo.Storages.StorageMetaInfoMessageAdapter)        | Адаптер, пытающийся загрузить мета\-данные ([SecurityMessage](xref:StockSharp.Messages.SecurityMessage), [BoardMessage](xref:StockSharp.Messages.BoardMessage), [PositionChangeMessage](xref:StockSharp.Messages.PositionChangeMessage)) из внутреннего хранилища.                                                                                                                                                                                                               |
| [CandleBuilderMessageAdapter](xref:StockSharp.Algo.Candles.Compression.CandleBuilderMessageAdapter) | Адаптер, склеивающий, строящий (из тиков или других доступных данных) и загружающий свечи.                                                                                                                                                                                                                                                                                                                                                                                       |
