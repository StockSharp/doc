# Защита позиции

![Designer Protect positions 00](../../../../../../images/designer_protect_positions_00.png)

![Designer Protect positions 01](../../../../../../images/designer_protect_positions_01.png)

Кубик используется для автоматической защиты открываемых сделок с помощью стоп\-лосса и тейк\-профита. 

### Входящие сокеты

Входящие сокеты

- **Сделка** – сделка, которую необходимо защищать стоп\-лоссом и тейк\-профитом.
- **Цена** – текущая цена (может быть взята из свечи, последнего тика и т.д.). Требуется для отслеживания текущей цены инструмента, и активации защитных заявок.

### Исходящие сокеты

Исходящие сокеты

- **Тейк-профит** – заявка на фиксирование прибыли.
- **Стоп-лосс** – заявка на фиксирование убытка.
- **Своя сделка** – сделка, созданная одной из выше указанных заявок.

### Параметры

Параметры Тейк и Стопа

- **Значение** - значение тейка или стопа.
- **Скользящий** – используется ли скользящая (trailing) защита.
- **Тайм-аут** - значение тайм-аута, после котрого защита срабатывает принудительно по рыночной цене.
- **Рыночные заявки** – использовать рыночные заявки (без цены) для быстрого закрытия позиции.

![Designer Protect positions 02](../../../../../../images/designer_protect_positions_02.png)

> [!WARNING]
> Входящими сделками НЕ могут быть сделки всей стратегии (кубик [Сделки стратегии](../common/trades_by_strategy.md)) так как это приведет к неправильному расчету текущей позиции из-за того что сделки защиты также являются сделками стратегии. На вход кубика Защиты позиции необходимо подавать сделки от заявок, которые изменяют позицию.